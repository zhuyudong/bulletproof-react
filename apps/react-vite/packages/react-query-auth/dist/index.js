"use strict";var L=Object.create;var d=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var K=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty;var k=(r,n)=>{for(var u in n)d(r,u,{get:n[u],enumerable:!0})},F=(r,n,u,g)=>{if(n&&typeof n=="object"||typeof n=="function")for(let y of q(n))!R.call(r,y)&&y!==u&&d(r,y,{get:()=>n[y],enumerable:!(g=M(n,y))||g.enumerable});return r};var A=(r,n,u)=>(u=r!=null?L(K(r)):{},F(n||!r||!r.__esModule?d(u,"default",{value:r,enumerable:!0}):u,r)),w=r=>F(d({},"__esModule",{value:!0}),r);var N={};k(N,{configureAuth:()=>J});module.exports=w(N);var a=require("@tanstack/react-query"),c=A(require("react"));function J(r){let{userFn:n,userKey:u=["authenticated-user"],loginFn:g,registerFn:y,logoutFn:m}=r,U=e=>(0,a.useQuery)({queryKey:u,queryFn:n,...e}),C=e=>{let s=(0,a.useQueryClient)(),o=(0,c.useCallback)(t=>s.setQueryData(u,t),[s]);return(0,a.useMutation)({mutationFn:g,...e,onSuccess:(t,...i)=>{var l;o(t),(l=e==null?void 0:e.onSuccess)==null||l.call(e,t,...i)}})},f=e=>{let s=(0,a.useQueryClient)(),o=(0,c.useCallback)(t=>s.setQueryData(u,t),[s]);return(0,a.useMutation)({mutationFn:y,...e,onSuccess:(t,...i)=>{var l;o(t),(l=e==null?void 0:e.onSuccess)==null||l.call(e,t,...i)}})},Q=e=>{let s=(0,a.useQueryClient)(),o=(0,c.useCallback)(t=>s.setQueryData(u,t),[s]);return(0,a.useMutation)({mutationFn:m,...e,onSuccess:(...t)=>{var i;o(null),(i=e==null?void 0:e.onSuccess)==null||i.call(e,...t)}})};function E({children:e,renderLoading:s,renderUnauthenticated:o,renderError:t=i=>c.default.createElement(c.default.Fragment,null,JSON.stringify(i))}){let{isSuccess:i,isFetched:l,status:S,data:O,error:h}=U();return i?o&&!O?o():c.default.createElement(c.default.Fragment,null,e):l?S==="error"?t(h):null:s()}return{useUser:U,useLogin:C,useRegister:f,useLogout:Q,AuthLoader:E}}0&&(module.exports={configureAuth});
//# sourceMappingURL=index.js.map